<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<!-- logo和导航条 -->
<!-- Left side column. contains the logo and sidebar -->
<aside th:fragment="menu" class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
        <!-- Sidebar user panel -->
        <!--<div class="user-panel">-->
        <!--&lt;!&ndash;<div class="pull-left image">&ndash;&gt;-->
        <!--&lt;!&ndash;<img th:src="@{/img/adminlte/user2-160x160.jpg}" src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--<div class="pull-left info">-->
        <!--<p>Alexander Pierce</p>-->
        <!--<a href="#"><i class="fa fa-circle text-success"></i> Online</a>-->
        <!--</div>-->
        <!--</div>-->
        <!--&lt;!&ndash; search form &ndash;&gt;-->
        <!--<form action="#" method="get" class="sidebar-form">-->
        <!--<div class="input-group">-->
        <!--<input type="text" name="q" class="form-control" placeholder="Search...">-->
        <!--<span class="input-group-btn">-->
        <!--<button type="submit" name="search" id="search-btn" class="btn btn-flat">-->
        <!--<i class="fa fa-search"></i>-->
        <!--</button>-->
        <!--</span>-->
        <!--</div>-->
        <!--</form>-->
        <!-- /.search form -->
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu" data-widget="tree">
            <li class="header">导航栏</li>

            <li class="treeview"
                sec:authorize="hasAnyAuthority('总公司管理','分公司管理','代理商管理','行业分类管理','场地方管理','大区管理','设备管理')">
                <a href="#">
                    <i class="fa fa-files-o"></i>
                    <span>基础数据管理</span>
                    <span class="pull-right-container">
              <!--<span class="label label-primary pull-right"></span>-->
                        <i class="fa fa-angle-left pull-right"></i>
            </span>
                </a>
                <ul class="treeview-menu">
                    <li sec:authorize="hasAuthority('总公司管理')"><a href="/mc/headMgr/turnToHeadMgr"><i class="fa fa-circle-o"></i>
                        总公司管理</a></li>
                    <li sec:authorize="hasAuthority('分公司管理')"><a href="/mc/branchMgr/turnToBranchMgr"><i
                            class="fa fa-circle-o"></i> 分公司管理</a></li>
                    <li sec:authorize="hasAuthority('代理商管理')"><a href="/mc/vendorMgr/turnToVendorMgr"><i
                            class="fa fa-circle-o"></i> 代理商管理</a></li>
                    <li sec:authorize="hasAuthority('行业分类管理')"><a href="/mc/turnToBussinessMgr"><i
                            class="fa fa-circle-o"></i> 行业分类管理</a></li>
                    <li sec:authorize="hasAuthority('场地方管理')"><a href="/mc/placeMgr/turnToPlaceMgr"><i
                            class="fa fa-circle-o"></i> 场地方管理</a></li>
                    <!--<li><a href="/mc/turnToPlaceDetailMgr"><i class="fa fa-circle-o"></i> 场地方管理</a></li>-->
                    <li sec:authorize="hasAuthority('大区管理')"><a href="/mc/turnToregion"><i class="fa fa-circle-o"></i>
                        大区管理</a></li>
                    <!--<li><a href="./turnToInventoryMgr"><i class="fa fa-circle-o"></i> 库存管理</a></li>-->
                    <li sec:authorize="hasAuthority('设备管理')"><a href="/mc/deviceMgr/turnToDeviceMgr"><i
                            class="fa fa-circle-o"></i> 设备管理</a></li>
                    <li sec:authorize="hasAuthority('网关管理')"><a href="/mc/gatewayMgr/turnToGatewayMgr"><i class="fa fa-circle-o"></i>
                        网关管理</a></li>
                    <!--<li><a href="pages/layout/collapsed-sidebar.html"><i class="fa fa-circle-o"></i> 客户信息管理</a></li>-->
                </ul>
            </li>

            <li class="treeview" sec:authorize="hasAnyAuthority('价格管理','价格绑定')">
                <a href="#">
                    <i class="fa fa-pie-chart"></i>
                    <span>价格管理</span>
                    <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
                </a>
                <ul class="treeview-menu">
                    <li sec:authorize="hasAuthority('价格管理')"><a href="/mc/price/priceTest"><i class="fa fa-circle-o"></i> 价格管理</a>
                    </li>
                    <li sec:authorize="hasAuthority('价格绑定')"><a href="/mc/price/priceTest1"><i class="fa fa-circle-o"></i>
                        价格绑定</a></li>
                </ul>
            </li>

            <li class="treeview" sec:authorize="hasAnyAuthority('销售报表')">
                <a href="#">
                    <i class="fa fa-pie-chart"></i>
                    <span>销售管理</span>
                    <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
                </a>
                <ul class="treeview-menu">
                    <!--<li><a href="/mc/priceTest"><i class="fa fa-circle-o"></i> 价格管理</a></li>-->
                    <!--<li><a href="/mc/priceTest1"><i class="fa fa-circle-o"></i> 价格绑定</a></li>-->
                    <!--<li><a href="pages/charts/flot.html"><i class="fa fa-circle-o"></i> 价格查询统计</a></li>-->
                    <li sec:authorize="hasAuthority('销售报表')"><a href="/mc/turnToreport"><i class="fa fa-circle-o"></i>
                        销售报表</a></li>
                </ul>
            </li>
            <li class="treeview" sec:authorize="hasAnyAuthority('订单查询')">
                <a href="#">
                    <i class="fa fa-laptop"></i>
                    <span>交易管理</span>
                    <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
                </a>
                <ul class="treeview-menu">
                    <li sec:authorize="hasAuthority('订单查询(管理员)')"><a href="/mc/orderMgr/turnToOrderMgr"><i class="fa fa-circle-o"></i>
                        订单查询(管理员)</a></li>
                    <li sec:authorize="hasAuthority('订单查询')"><a href="/mc/orderMgr/turnToOrderPlaceMgr"><i class="fa fa-circle-o"></i>
                        订单查询</a></li>
                    <!--<li><a href="#"><i class="fa fa-circle-o"></i> 异常管理</a></li>-->
                </ul>
            </li>
            <li class="treeview" sec:authorize="hasAnyAuthority('控制设备')">
                <a href="#">
                    <i class="fa fa-edit"></i> <span>设备管理</span>
                    <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
                </a>
                <ul class="treeview-menu">
                    <!--<li><a href="#"><i class="fa fa-circle-o"></i> 设备列表</a></li>-->
                    <li sec:authorize="hasAuthority('控制设备')"><a href="/mc/deviceMgr/turnToDeviceCtrl"><i
                            class="fa fa-circle-o"></i> 控制设备</a></li>
                </ul>
            </li>
            <li class="treeview" sec:authorize="hasAnyAuthority('用户信息管理','角色绑定')">
                <a href="#">
                    <i class="fa fa-dashboard"></i> <span>用户管理</span>
                    <span class="pull-right-container">
              <i class="fa fa-angle-left pull-right"></i>
            </span>
                </a>
                <ul class="treeview-menu">
                    <li sec:authorize="hasAuthority('用户信息管理')"><a href="/mc/user/userManagement"><i
                            class="fa fa-circle-o"></i> 用户信息管理</a></li>
                    <li sec:authorize="hasAuthority('角色管理')"><a href="/mc/role/roleManagement"><i class="fa fa-circle-o"></i>
                        角色管理</a></li>
                    <!--<li ><a href="/mc/user/permissionManagement"><i class="fa fa-circle-o"></i> 权限管理</a></li>-->
                </ul>
            </li>

            <!--<li class="treeview" sec:authorize="hasAnyAuthority('二维码生成')">-->
                <!--<a href="#">-->
                    <!--<i class="fa fa-dashboard"></i> <span>二维码生成</span>-->
                    <!--<span class="pull-right-container">-->
              <!--<i class="fa fa-angle-left pull-right"></i>-->
            <!--</span>-->
                <!--</a>-->
                <!--<ul class="treeview-menu">-->
                    <!--<li sec:authorize="hasAuthority('二维码生成')"><a href="/util/qrCode"><i-->
                            <!--class="fa fa-circle-o"></i> 二维码生成</a></li>-->
                <!--</ul>-->
            <!--</li>-->
            <!--<li class="treeview">-->
            <!--<a href="#">-->
            <!--<i class="fa fa-table"></i> <span>系统管理</span>-->
            <!--<span class="pull-right-container">-->
            <!--<i class="fa fa-angle-left pull-right"></i>-->
            <!--</span>-->
            <!--</a>-->
            <!--<ul class="treeview-menu">-->
            <!--<li><a href="#"><i class="fa fa-circle-o"></i> 操作日志</a></li>-->
            <!--<li><a href="#"><i class="fa fa-circle-o"></i> 个人信息</a></li>-->
            <!--</ul>-->
            <!--</li>-->
        </ul>
    </section>
    <!-- /.sidebar -->
</aside>
<script>
    $('.sidebar-menu li:not(.treeview) > a').on('click', function () {
        var $parent = $(this).parent().addClass('active');
        $parent.siblings('.treeview.active').find('> a').trigger('click');
        $parent.siblings().removeClass('active').find('li').removeClass('active');
    });

    $(window).on('load', function () {
        $('.sidebar-menu a').each(function () {
            // console.log(this);
            var cur = window.location.href;
            var url = this.href;
            // console.log(cur.match(url));
            if (cur.match(url)) {
                $(this).parent().addClass('active')
                    .closest('.treeview-menu').addClass('.menu-open')
                    .closest('.treeview').addClass('active');
            }
        });
    });
</script>
</html>